!function(e){e.fn.ClassyLoader=function(t){function i(e){return Math.PI/180*e}var n={width:200,height:200,animate:!0,displayOnLoad:!0,percentage:100,speed:1,roundedLine:!1,showRemaining:!0,fontFamily:"Helvetica",fontSize:"50px",showText:!0,diameter:80,fontColor:"rgba(25, 25, 25, 0.6)",lineColor:"rgba(55, 55, 55, 1)",remainingLineColor:"rgba(55, 55, 55, 0.4)",lineWidth:5,start:"left"};t=e.extend({},n,t);var r=e(this);return this.draw=function(e){void 0!==e&&(t.percentage=e);var n=r[0].getContext("2d"),o=r.width()/2,a=r.height()/2,l=0,h=0,s=function(e){return i(360)/100*e};n.scale(1,1),n.lineWidth=t.lineWidth,n.strokeStyle=t.lineColour;var c=function(e,i){switch(e=e||s(l),i=i||s(l+1),n.clearRect(0,0,r.width(),r.height()),!0===t.showRemaining&&(n.beginPath(),n.strokeStyle=t.remainingLineColor,n.arc(o,a,t.diameter,0,360),n.stroke(),n.closePath()),n.strokeStyle=t.lineColor,n.beginPath(),!0===t.roundedLine?n.lineCap="round":n.lineCap="butt",t.start){case"top":h=1.5*Math.PI;break;case"bottom":h=.5*Math.PI;break;case"right":h=1*Math.PI;break;case"left":default:h=0}n.arc(o,a,t.diameter,h,i+h),n.stroke(),n.closePath(),!0===t.showText&&(n.fillStyle=t.fontColor,n.font=t.fontSize+" "+t.fontFamily,n.textAlign="center",n.textBaseline="middle",n.fillText(l+1+"%",o,a))};setTimeout(function e(){c(s(l),s(l+1)),(l+=1)<t.percentage&&setTimeout(e,t.speed)},t.speed)},this.setPercent=function(e){return t.percentage=e,this},this.getPercent=function(){return t.percentage},this.show=function(){var e=r[0].getContext("2d"),n=r.width()/2,o=r.height()/2;e.scale(1,1),e.lineWidth=t.lineWidth,e.strokeStyle=t.lineColour,e.clearRect(0,0,r.width(),r.height()),e.strokeStyle=t.lineColor,e.beginPath(),e.arc(n,o,t.diameter,0,i(t.percentage/100*360)),e.stroke(),e.closePath(),!0===t.showText&&(e.fillStyle=t.fontColor,e.font=t.fontSize+" "+t.font,e.textAlign="center",e.textBaseline="middle",e.fillText(t.percentage+"%",n,o)),!0===t.showRemaining&&(e.beginPath(),e.strokeStyle=t.remainingLineColor,e.arc(n,o,t.diameter,0,360),e.stroke(),e.closePath())},this.__constructor=function(){return e(this).attr("width",t.width),e(this).attr("height",t.height),!0===t.displayOnLoad&&(!0===t.animate?this.draw():this.show()),this},this.__constructor()}}(jQuery);